<!DOCTYPE html>
<html>
    <head>
        <title>Colors</title>
        <script src='https://unpkg.com/redux@latest/dist/redux.js'></script>
    </head>
    <body>
        <script>
            // actions
            function addColor(value) {
                return {
                    type: 'ADD',
                    color: value
                }
            }
            function removeColor(value) {
                return {
                    type: 'REMOVE',
                    color: value
                }
            }

            function colors(state, action) {
                if (state === undefined) {
                    state = [];
                }

                if (action.type === 'ADD') {
                    return state.concat(action.color);
                } else if (action.type === 'REMOVE') {
                    return state.filter(item => item !== action.color);
                } else {
                    return state;
                }
            }

            // store
            const store = Redux.createStore(colors);
            store.subscribe(render);

            function render() {
                console.log(store.getState());
            }

            store.dispatch(addColor('red'));
            store.dispatch(addColor('gray'));
            store.dispatch(removeColor('red'));
        </script>
    </body>
</html>